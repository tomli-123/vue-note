<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

  <!-- 
    $.ajax({ ... }) type url data success error

    axios åªæ˜¯ä¸€ä¸ª åŸºäºåŸç”Ÿajaxå°è£…çš„ æ’ä»¶å·¥å…·
    åœ¨ä½ éœ€è¦å‘é€ajaxçš„æ—¶å€™, å¼•å…¥å³å¯

    ä½¿ç”¨:
      1. ä¸‹è½½ npm i axios
      2. å¼•åŒ…
      3. å‘é€è¯·æ±‚

    axios({
      method: è¯·æ±‚æ–¹å¼,   // get post put patch delete
      url: è¯·æ±‚åœ°å€,      // http://localhost:3000/list
      data: {},          // å‚æ•°å¯¹è±¡, åœ¨bodyè¯·æ±‚ä½“ä¸­ä¼ é€’, post put patch
      params: {}         // å‚æ•°å¯¹è±¡, åœ¨urlåœ°å€æ ä¸­ä¼ é€’, ?xx=xx   get delete
    }).then(æˆåŠŸçš„å‡½æ•°).catch(å¤±è´¥çš„å‡½æ•°)


    æ³¨æ„: æ‰“å¼€é¡µé¢ alt + B, ä¸è¦ç”¨ vscodeæ’ä»¶ live-server, ä¼šå’Œæˆ‘ä»¬çš„ json-server å†²çª
    live-serverä¼šç›‘è§†vscodeå·¥ä½œåŒºçš„å†…å®¹, åªè¦æ”¹å˜äº†å†…å®¹, å°±ä¼šè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨

    æ‰“å¼€é¡µé¢ => å‘é€è¯·æ±‚, ä¿®æ”¹è¯·æ±‚ => json-serverä¿®æ”¹data.json
    åªè¦ä¿®æ”¹data.json, è€Œdata.jsonåˆåœ¨vscodeå·¥ä½œåŒº, è¢«live-serverç›‘è§†åˆ°, è¦åˆ·æ–°é¡µé¢
   -->
   <script src="./node_modules/axios/dist/axios.js"></script>
   <script>

    // get è·å–
    // post æ·»åŠ 
    // delete åˆ é™¤
    // put  å…¨éƒ¨ä¿®æ”¹
    // patch å±€éƒ¨ä¿®æ”¹

    // å¦‚æœå‘é€çš„è¯·æ±‚æ¯”è¾ƒç®€å•, å¯ä»¥åˆ©ç”¨axiosç®€å†™çš„è¯­æ³•
    /* 
      1. get å’Œ deleteç±»ä¼¼
        axios.get(url).then(æˆåŠŸçš„å‡½æ•°)
        axios.get(url, {
          params: { ... }
        }).then(æˆåŠŸçš„å‡½æ•°)

      2. post å’Œ put å’Œ patch ç±»ä¼¼
        axios.post(url, data).then(æˆåŠŸçš„å‡½æ•°)
    */

    // æµ‹è¯•
    // 1. å‘é€getè¯·æ±‚, è·å–å…¨éƒ¨çš„æ•°æ®
    // axios.get('http://localhost:3000/list').then(res => {
    //   console.log(res.data)
    // })

    // 2. å‘é€getè¯·æ±‚, å®Œæˆæœç´¢æ•°æ®
    // axios.get('http://localhost:3000/list?name_like=è½¦').then(res => {
    //   console.log(res.data)
    // })
    // axios.get('http://localhost:3000/list', {
    //   params: {
    //     name_like: 'è½¦'
    //   }
    // }).then(res => {
    //   console.log(res.data)
    // })

    // 3. axioså‘é€postè¯·æ±‚, æ·»åŠ 
    // axios.post('http://localhost:3000/list', {
    //   name: 'ç¼†è½¦ğŸš ',
    //   price: 18
    // }).then(res => {
    //   console.log('æ·»åŠ å®Œæˆ')
    // })

    // 4. åˆ é™¤æ“ä½œ delete
    // const id = 8
    // axios.delete(`http://localhost:3000/list/${id}`).then(res => {
    //   console.log('åˆ é™¤æˆåŠŸ')
    // })

    // 5. å…¨éƒ¨ä¿®æ”¹, ä¸¤ä¸ªå±æ€§éƒ½æ”¹ put
    // const id = 5
    // axios.put(`http://localhost:3000/list/${id}`, {
    //   name: 'å¤§house',
    //   price: 999
    // }).then(res => {
    //   console.log(res.data) // å¾—åˆ°ä¿®æ”¹åçš„ç»“æœ
    //   console.log('ä¿®æ”¹æˆåŠŸ')
    // })

    // 6. å±€éƒ¨ä¿®æ”¹, åªæ”¹ä¸€ä¸ªå±æ€§ patch
    const id = 4
    axios.patch(`http://localhost:3000/list/${id}`, {
      name: 'ç¥–ä¼ ä¸‰è½®è½¦'
    }).then(res => {
      console.log(res.data) // å¾—åˆ°ä¿®æ”¹çš„ç»“æœ
      console.log('ä¿®æ”¹æˆåŠŸ')
    })





   </script>

</body>
</html>